<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xxx.mb.mapper.CardMapper">

    <!--
         一对一查询，使用association映射另外一张表要查询的字段
         方式1、返回值使用resultMap
         方式2、返回值使用resultType：自定义一个包装类，里面有所有想要的属性

         注意：一对一手动映射要写全
    -->


    <select id="findUserAndCard" resultMap="oneToOne">
        select c.cid,c.card_num,
              u.uid,u.username,u.password
        from card c,`user` u
        where c.cid = u.uid
    </select>

    <resultMap id="oneToOne" type="com.xxx.mb.model.Card">
        <id column="cid" property="cid"/>
        <result column="card_num" property="cardNum"/>

        <association property="user" javaType="com.xxx.mb.model.User">
            <id column="uid" property="uid"/>
            <result column="username" property="username"/>
            <result column="password" property="password"/>
        </association>
    </resultMap>

</mapper>